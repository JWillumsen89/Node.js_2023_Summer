<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>$TAB_TITLE</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

  <link href="/assets/css/page.css" rel="stylesheet">
</head>

<body>
  <nav>
    <ul>

    </ul>
  </nav>

  <div class="window toc-section">
    <div class="window-main-title" id="main-title-1">Javascript Enhanced</div>
    <div class="window-main-description">Here we will have look at some the more enhanced features of Javascript.
      Features like fetch, import/export, Client-side programming and security (XXS).

    </div>
    <div class="content toc-subsection">
      <div class="window-sub-title" id="sub-title-1-1">Fetch</div>
      <div class="window-description">In this example I will dissect a fetch request and explain what is going on.

      </div>
      <pre class="code-snippet">

  //fetch initiates an HTTP GET request to the specified endpoint. fetch returns a Promise that resolves to the Response to that request, whether it is successful or not.
  fetch('/mountains')

  //The response is returned as an ReadableBytestream and then need to be converted to JSON.
      .then(response => response.json()). This only happens if the response is ok.
response is converted to JSON.
      .then(response => {
          if (response.ok) {
              return response.json();
          }
      })

  //The next thing to happen is the JSON data is returned and can used on the page or whatever you want to do with it.
      .then(result => {
          mountains = result.data;
      });

            </pre>
    </div>
    <div class="content toc-subsection">
      <div class="window-sub-title" id="sub-title-1-2">Import/Export</div>
      <div class="window-description">When working with import/export in node.js, you will first have to set the type in
        the package.json file to module. This will allow you to use import/export in your project. You can then import
        and export modules in your project. In this example I will show how to import and export modules in node.js.

        <br><br>
        First example is how to import/export between two js files.
      </div>
      <pre class="code-snippet">


    //Here is the code for export.js file, where we want to export a function.

    export const add = (a, b) => {
      return a + b;
    }
                
            </pre>
      <pre class="code-snippet">


    //Here is the code for import.js file, where we want to import the add function.

    import { add } from './export.js';
    
    //Now we can use the add function in the import.js file.
    console.log(add(1, 2));
    //Output: 3
                      </pre>

      <div class="window-description">When we want to import a function directly into a html file, we do like this.
      </div>
      <pre class="code-snippet">


  //Its import to set type="module" in the script tag, so we can use import/export in the html file and them we can just import the function like this inside the script tag.
  import { add } from './export.js';

  console.log(add(2, 3));      // Outputs: 5
   
      </pre>
    </div>
    <div class="content toc-subsection">
      <div class="window-sub-title" id="sub-title-1-3">Security (XSS)</div>
      <div class="window-description">XSS is important, because we want to make sure that the user can't inject
        malicious
        code into our website. We can prevent this by using the innerText property instead of innerHTML. innerText
        property will only return the text content of the specified node, while innerHTML will return the text content
        and the HTML content of the specified node. This means that if we use innerHTML, the user can inject malicious
        code into our website.
        But if we need to user innerHTML, then we can use for example DOMPurify or Sanitize HTML to sanitize the input.
      </div>
    </div>
  </div>
  <div id="content-spacer"></div>
  <script src="/components/navbar/navbar.js"></script>
  <script src="/components/scrollspy/scrollspy.js"></script>
  <script src="../commentsColor.js"></script>
</body>